const e="dred-v1",t=["./","./index.html","./manifest.webmanifest","./icons/icon-192.png","./icons/icon-512.png","./logo.png","./offline.html"];self.addEventListener("install",n=>{n.waitUntil(caches.open(e).then(e=>e.addAll(t)).then(()=>self.skipWaiting()))}),self.addEventListener("activate",t=>{t.waitUntil(Promise.all([self.clients.claim(),caches.keys().then(t=>Promise.all(t.filter(t=>t!==e).map(e=>caches.delete(e))))]))}),self.addEventListener("fetch",t=>{if("navigate"===t.request.mode){t.respondWith(fetch(t.request).catch(()=>caches.match("./offline.html")));return}t.respondWith(caches.match(t.request).then(n=>n||fetch(t.request).then(n=>{if(!n||200!==n.status||"basic"!==n.type)return n;let s=n.clone();return caches.open(e).then(e=>{e.put(t.request,s)}),n}).catch(()=>{if("navigate"===t.request.mode)return caches.match("./offline.html")})))});
//# sourceMappingURL=serviceWorker.js.map
