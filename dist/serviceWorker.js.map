{"mappings":"AAAA,MAAM,aAAa;AACnB,MAAM,cAAc;IAClB;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,KAAK,gBAAgB,CAAC,WAAW,CAAA;IAC/B,MAAM,SAAS,CACb,OAAO,IAAI,CAAC,YACT,IAAI,CAAC,CAAA,QAAS,MAAM,MAAM,CAAC,cAC3B,IAAI,CAAC,IAAM,KAAK,WAAW;AAElC;AAEA,KAAK,gBAAgB,CAAC,YAAY,CAAA;IAChC,MAAM,SAAS,CACb,QAAQ,GAAG,CAAC;QACV,KAAK,OAAO,CAAC,KAAK;QAClB,OAAO,IAAI,GAAG,IAAI,CAAC,CAAA;YACjB,OAAO,QAAQ,GAAG,CAChB,WACG,MAAM,CAAC,CAAA,YAAa,cAAc,YAClC,GAAG,CAAC,CAAA,YAAa,OAAO,MAAM,CAAC;QAEtC;KACD;AAEL;AAEA,KAAK,gBAAgB,CAAC,SAAS,CAAA;IAC7B,+EAA+E;IAC/E,IAAI,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,2BAC3B,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,2BAC3B,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,sBAC7B;IAGF,6BAA6B;IAC7B,IAAI,MAAM,OAAO,CAAC,IAAI,KAAK,YAAY;QACrC,MAAM,WAAW,CACf,MAAM,MAAM,OAAO,EAChB,KAAK,CAAC;YACL,OAAO,OAAO,KAAK,CAAC;QACtB;QAEJ;IACF;IAEA,wBAAwB;IACxB,MAAM,WAAW,CACf,OAAO,KAAK,CAAC,MAAM,OAAO,EACvB,IAAI,CAAC,CAAA;QACJ,IAAI,UACF,OAAO;QAGT,4EAA4E;QAC5E,MAAM,eAAe,MAAM,OAAO,CAAC,KAAK;QAExC,OAAO,MAAM,cACV,IAAI,CAAC,CAAA;YACJ,sCAAsC;YACtC,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,OAAO,SAAS,IAAI,KAAK,SAC5D,OAAO;YAGT,MAAM,kBAAkB,SAAS,KAAK;YACtC,OAAO,IAAI,CAAC,YACT,IAAI,CAAC,CAAA;gBACJ,IAAI;oBACF,MAAM,GAAG,CAAC,MAAM,OAAO,EAAE;gBAC3B,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,oBAAoB;gBACpC;YACF;YAEF,OAAO;QACT,GACC,KAAK,CAAC,CAAA;YACL,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,8CAA8C;YAC9C,IAAI,MAAM,OAAO,CAAC,IAAI,KAAK,YACzB,OAAO,OAAO,KAAK,CAAC;YAGtB,+CAA+C;YAC/C,MAAM;QACR;IACJ;AAEN","sources":["public/serviceWorker.js"],"sourcesContent":["const CACHE_NAME = 'dred-v1';\nconst urlsToCache = [\n  './',\n  './index.html',\n  './manifest.webmanifest',\n  './icons/icon-192.png',\n  './icons/icon-512.png',\n  './logo.png',\n  './offline.html'\n];\n\nself.addEventListener('install', event => {\n  event.waitUntil(\n    caches.open(CACHE_NAME)\n      .then(cache => cache.addAll(urlsToCache))\n      .then(() => self.skipWaiting())\n  );\n});\n\nself.addEventListener('activate', event => {\n  event.waitUntil(\n    Promise.all([\n      self.clients.claim(),\n      caches.keys().then(cacheNames => {\n        return Promise.all(\n          cacheNames\n            .filter(cacheName => cacheName !== CACHE_NAME)\n            .map(cacheName => caches.delete(cacheName))\n        );\n      })\n    ])\n  );\n});\n\nself.addEventListener('fetch', event => {\n  // Skip Google Analytics requests and other known problematic external services\n  if (event.request.url.includes('google-analytics.com') || \n      event.request.url.includes('googletagmanager.com') ||\n      event.request.url.includes('overbridgenet.com')) {\n    return;\n  }\n\n  // Handle navigation requests\n  if (event.request.mode === 'navigate') {\n    event.respondWith(\n      fetch(event.request)\n        .catch(() => {\n          return caches.match('./offline.html');\n        })\n    );\n    return;\n  }\n\n  // Handle other requests\n  event.respondWith(\n    caches.match(event.request)\n      .then(response => {\n        if (response) {\n          return response;\n        }\n\n        // Clone the request - fixes the 'Failed to convert value to Response' error\n        const fetchRequest = event.request.clone();\n\n        return fetch(fetchRequest)\n          .then(response => {\n            // Don't cache if not a valid response\n            if (!response || response.status !== 200 || response.type !== 'basic') {\n              return response;\n            }\n\n            const responseToCache = response.clone();\n            caches.open(CACHE_NAME)\n              .then(cache => {\n                try {\n                  cache.put(event.request, responseToCache);\n                } catch (error) {\n                  console.error('Cache put error:', error);\n                }\n              });\n\n            return response;\n          })\n          .catch(error => {\n            console.error('Fetch error:', error);\n            // Return offline page for navigation requests\n            if (event.request.mode === 'navigate') {\n              return caches.match('./offline.html');\n            }\n            \n            // For other requests, just propagate the error\n            throw error;\n          });\n      })\n  );\n}); "],"names":[],"version":3,"file":"serviceWorker.js.map","sourceRoot":"/__parcel_source_root/"}